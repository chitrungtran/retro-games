<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B·ªô S∆∞u T·∫≠p Game Retro C·ªßa Trung! üéÆ</title>
    <style>
        body {
            margin: 0;
            font-family: 'Arial', sans-serif;
            background-color: #f0f0f0; /* M√†u n·ªÅn nh·∫π nh√†ng */
            color: #333;
        }

        .header {
            background-color: #ff0000; /* M√†u ƒë·ªè nh∆∞ h√¨nh */
            color: white;
            padding: 20px;
            text-align: center;
            font-size: 2em;
            font-weight: bold;
        }

        .search-bar {
            background-color: #0000ff; /* M√†u xanh d∆∞∆°ng nh∆∞ h√¨nh */
            padding: 10px;
            text-align: center;
        }

        .search-bar input {
            width: 80%; /* Chi·ªÅu r·ªông √¥ t√¨m ki·∫øm */
            padding: 8px;
            border: none;
            border-radius: 5px;
            font-size: 1em;
        }

        .game-list-container {
            padding: 20px;
            background-color: white; /* N·ªÅn tr·∫Øng cho ph·∫ßn danh s√°ch game */
            margin: 20px; /* T·∫°o kho·∫£ng c√°ch v·ªõi vi·ªÅn trang */
            border-radius: 8px; /* Bo g√≥c nh·∫π */
            box-shadow: 0 2px 5px rgba(0,0,0,0.1); /* ƒê·ªï b√≥ng nh·∫π nh√†ng */
        }

        .game-list-container h2 {
            margin-top: 0;
            color: #333;
        }

        ul {
            list-style-type: none; /* B·ªè d·∫•u ch·∫•m ƒë·∫ßu d√≤ng */
            padding: 0;
        }

        li {
            padding: 8px 0;
            border-bottom: 1px solid #eee; /* ƒê∆∞·ªùng k·∫ª m·ªù ngƒÉn c√°ch c√°c game */
            font-size: 1.1em;
        }

        li:last-child {
            border-bottom: none; /* Game cu·ªëi c√πng kh√¥ng c√≥ ƒë∆∞·ªùng k·∫ª */
        }

        a {
            text-decoration: none; /* B·ªè g·∫°ch ch√¢n link */
            color: #0000ff; /* M√†u xanh link */
            transition: color 0.3s ease;
        }

        a:hover {
            color: #004ac9; /* ƒê·ªïi m√†u khi r√™ chu·ªôt */
        }

        /* CSS cho ph·∫ßn game iframe */
        .game-container {
            width: 800px; /* K√≠ch th∆∞·ªõc ban ƒë·∫ßu */
            height: 600px;
            max-width: 90vw; /* Gi·ªõi h·∫°n chi·ªÅu r·ªông t·ªëi ƒëa theo m√†n h√¨nh */
            max-height: 90vh; /* Gi·ªõi h·∫°n chi·ªÅu cao t·ªëi ƒëa theo m√†n h√¨nh */
            border: 5px solid #0064ff; /* Khung vi·ªÅn m√†u Ghibli */
            box-shadow: 0 0 20px rgba(0, 100, 255, 0.5); /* Hi·ªáu ·ª©ng ƒë·ªï b√≥ng */
            margin: 20px auto; /* CƒÉn gi·ªØa v√† t·∫°o kho·∫£ng c√°ch */
            display: none; /* Ban ƒë·∫ßu ·∫©n game ƒëi */
            position: relative;
            overflow: hidden;
        }

        .game-frame {
            width: 100%;
            height: 100%;
            border: none;
        }

        .game-controls {
            margin-top: 15px;
            text-align: center;
        }

        .game-button {
            padding: 10px 20px;
            font-size: 1em;
            cursor: pointer;
            background-color: #0064ff;
            color: white;
            border: none;
            border-radius: 5px;
            margin: 0 5px;
            transition: background-color 0.3s ease;
        }

        .game-button:hover {
            background-color: #004ac9;
        }
    </style>
</head>
<body>
    <div class="header">
        Collection of old retro games.
    </div>

    <div class="search-bar">
        <input type="text" placeholder="Search for games...">
    </div>

    <div class="game-list-container">
        <h2>list game</h2>
        <ul>
            <li><a href="#super-mario-world-game">Super Mario World (SNES) üçÑ</a></li>
            <li><a href="/retro-games/Snes/Final%20Fight%20(USA)/Final%20Fight%20(USA).html">Final Fight (USA) üëä</a></li>
            <li><a href="/retro-games/Snes/Super%20Bomberman%203%20(Europe)/Super%20Bomberman%203%20(Europe).html">Super Bomberman 3 (SNES) üí£</a></li>
            <li><a href="#another-game-game">T√™n Game Kh√°c C·ªßa M√†y ‚ú®</a></li>
            </ul>
    </div>

    <div id="super-mario-world-game" class="game-container">
        <iframe class="game-frame" src="mario-bros/Super%20Mario%20World%20(USA).html" allowfullscreen="true" allow="autoplay; fullscreen"></iframe>
        <div class="game-controls">
            <button class="game-button" onclick="requestFullscreen('super-mario-world-game')">Full M√†n H√¨nh! üåü</button>
            <button class="game-button" onclick="hideGame('super-mario-world-game')">·∫®n Game ‚ùå</button>
        </div>
    </div>

    <div id="final-fight-game" class="game-container">
        <iframe class="game-frame" src="/retro-games/Snes/Final%20Fight%20(USA)/Final%20Fight%20(USA).html" allowfullscreen="true" allow="autoplay; fullscreen"></iframe>
        <div class="game-controls">
            <button class="game-button" onclick="requestFullscreen('final-fight-game')">Full M√†n H√¨nh! üåü</button>
            <button class="game-button" onclick="hideGame('final-fight-game')">·∫®n Game ‚ùå</button>
        </div>
    </div>

    <div id="super-bomberman-3-game" class="game-container">
        <iframe class="game-frame" src="bomberman/Super%20Bomberman%203%20(English).html" allowfullscreen="true" allow="autoplay; fullscreen"></iframe>
        <div class="game-controls">
            <button class="game-button" onclick="requestFullscreen('super-bomberman-3-game')">Full M√†n H√¨nh! üåü</button>
            <button class="game-button" onclick="hideGame('super-bomberman-3-game')">·∫®n Game ‚ùå</button>
        </div>
    </div>

    <div id="another-game-game" class="game-container">
        <iframe class="game-frame" src="duong-dan-toi-game-khac/GameKhac.html" allowfullscreen="true" allow="autoplay; fullscreen"></iframe>
        <div class="game-controls">
            <button class="game-button" onclick="requestFullscreen('another-game-game')">Full M√†n H√¨nh! üåü</button>
            <button class="game-button" onclick="hideGame('another-game-game')">·∫®n Game ‚ùå</button>
        </div>
    </div>


    <script>
        // H√†m ƒë·ªÉ ·∫©n t·∫•t c·∫£ c√°c game kh√°c v√† hi·ªÉn th·ªã game ƒë∆∞·ª£c ch·ªçn
        function displayGame(gameId) {
            // ·∫®n t·∫•t c·∫£ c√°c khung game
            document.querySelectorAll('.game-container').forEach(gameDiv => {
                gameDiv.style.display = 'none';
                // N·∫øu game ƒëang ch·∫°y, c√≥ th·ªÉ t·∫°m d·ª´ng/reset iframe ƒë·ªÉ tr√°nh t·ªën t√†i nguy√™n
                const iframe = gameDiv.querySelector('.game-frame');
                if (iframe) {
                   iframe.contentWindow.postMessage('stop_game', '*'); // Gi·∫£ s·ª≠ game c√≥ c∆° ch·∫ø d·ª´ng b·∫±ng postMessage
                   // Ho·∫∑c ƒë∆°n gi·∫£n h∆°n l√† reset src v·ªÅ r·ªóng ƒë·ªÉ d·ª´ng load
                   // iframe.src = 'about:blank'; // C√≥ th·ªÉ c·∫ßn load l·∫°i khi hi·ªÉn th·ªã
                }
            });

            // Hi·ªÉn th·ªã khung game ƒë∆∞·ª£c ch·ªçn
            const selectedGameContainer = document.getElementById(gameId);
            if (selectedGameContainer) {
                selectedGameContainer.style.display = 'block';
                const iframe = selectedGameContainer.querySelector('.game-frame');
                // Quan tr·ªçng: ƒê·∫£m b·∫£o iframe load l·∫°i src n·∫øu n√≥ ƒë√£ b·ªã reset tr∆∞·ªõc ƒë√≥
                // ho·∫∑c n·∫øu n√≥ ch∆∞a load bao gi·ªù
                const originalSrc = iframe.getAttribute('src'); // L·∫•y l·∫°i src ban ƒë·∫ßu ƒë√£ ƒë·∫∑t trong HTML
                if (iframe.src === 'about:blank' || !iframe.src) {
                    iframe.src = originalSrc; // Load l·∫°i game
                }
            }
        }

        // H√†m y√™u c·∫ßu fullscreen
        function requestFullscreen(containerId) {
            const gameContainer = document.getElementById(containerId);
            if (gameContainer.requestFullscreen) {
                gameContainer.requestFullscreen();
            } else if (gameContainer.webkitRequestFullscreen) { /* Safari */
                gameContainer.webkitRequestFullscreen();
            } else if (gameContainer.msRequestFullscreen) { /* IE11 */
                gameContainer.msRequestFullscreen();
            }
        }

        // H√†m ·∫©n game ƒëi
        function hideGame(gameId) {
            const game = document.getElementById(gameId);
            if (game) {
                game.style.display = 'none';
                // T·∫°m d·ª´ng/reset game trong iframe khi ·∫©n ƒëi
                const iframe = game.querySelector('.game-frame');
                if (iframe) {
                    iframe.contentWindow.postMessage('stop_game', '*'); // N·∫øu game h·ªó tr·ª£ d·ª´ng
                    iframe.src = 'about:blank'; // Reset src ƒë·ªÉ d·ª´ng game v√† gi·∫£i ph√≥ng t√†i nguy√™n
                }
            }
        }

        // G·∫Øn s·ª± ki·ªán click cho c√°c link game
        document.addEventListener('DOMContentLoaded', () => {
            // ·∫®n t·∫•t c·∫£ game khi trang t·∫£i l·∫ßn ƒë·∫ßu
            document.querySelectorAll('.game-container').forEach(game => {
                game.style.display = 'none';
                // Reset src c·ªßa iframe v·ªÅ about:blank khi t·∫£i trang ƒë·ªÉ kh√¥ng t·ª± ƒë·ªông load game n√†o c·∫£
                const iframe = game.querySelector('.game-frame');
                if (iframe) {
                    iframe.setAttribute('data-original-src', iframe.src); // L∆∞u src g·ªëc
                    iframe.src = 'about:blank'; // ƒê·∫∑t src ban ƒë·∫ßu l√† r·ªóng
                }
            });

            document.querySelectorAll('.game-list-container a').forEach(link => {
                link.addEventListener('click', function(event) {
                    event.preventDefault(); // NgƒÉn ch·∫∑n h√†nh vi m·∫∑c ƒë·ªãnh c·ªßa link
                    const targetDivId = this.getAttribute('href').substring(1); // L·∫•y id c·ªßa div game (v√≠ d·ª•: "super-mario-world-game")
                    displayGame(targetDivId);
                });
            });
        });
    </script>
</body>
</html>
